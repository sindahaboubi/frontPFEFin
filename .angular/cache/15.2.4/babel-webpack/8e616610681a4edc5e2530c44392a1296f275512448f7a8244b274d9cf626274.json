{"ast":null,"code":"import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { map } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nvar URL = \"http://localhost:9999/sauvegarder-dossier-service/dossiers\";\nvar DossierService = /** @class */function () {\n  function DossierService(http) {\n    this.http = http;\n  }\n  DossierService.prototype.sauvegarderDossier = function (dossier) {\n    var _this = this;\n    var formData = new FormData();\n    formData.append('file', dossier.donnees.get('compressedFile'));\n    formData.append('nomDossier', dossier.nomDossier);\n    formData.append('membreId', dossier.membreId.toString());\n    formData.append('projetId', dossier.projetId.toString());\n    return this.http.post(URL, formData, {\n      headers: new HttpHeaders(),\n      observe: 'response'\n    }).pipe(map(function (response) {\n      var header = response.headers;\n      _this.csrfToken = header.get('X-Csrftoken');\n      sessionStorage.setItem(\"X-Csrftoken\", _this.csrfToken);\n      return response.body;\n    }));\n  };\n  DossierService.prototype.recupererDossierDeProjet = function (idProjet) {\n    return this.http.get(\"\".concat(URL, \"/projet/\") + idProjet, {\n      observe: 'response'\n    }).pipe(map(function (response) {\n      var dosProjet = response.body;\n      if (response.status === 404) return null;\n      return dosProjet;\n    }));\n  };\n  DossierService.prototype.supprimerDos = function (id) {\n    var _this = this;\n    return this.http.delete(\"\".concat(URL, \"/\") + id, {\n      observe: 'response'\n    }).pipe(map(function (response) {\n      var header = response.headers;\n      _this.csrfToken = header.get('X-Csrftoken');\n      sessionStorage.setItem(\"X-Csrftoken\", _this.csrfToken);\n    }));\n  };\n  DossierService.ɵfac = function DossierService_Factory(t) {\n    return new (t || DossierService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  DossierService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: DossierService,\n    factory: DossierService.ɵfac,\n    providedIn: 'root'\n  });\n  return DossierService;\n}();\nexport { DossierService };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}