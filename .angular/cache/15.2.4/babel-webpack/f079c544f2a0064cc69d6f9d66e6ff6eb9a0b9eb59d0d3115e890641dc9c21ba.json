{"ast":null,"code":"import { HttpClient } from '@angular/common/http';\nimport { map } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nvar url1 = \"http://localhost:9999/gestion-product-backlog/product-backlogs\";\nvar ProductBacklogService = /** @class */function () {\n  function ProductBacklogService(http) {\n    this.http = http;\n  }\n  ProductBacklogService.prototype.getProductBacklogById = function (productBacklogId) {\n    return this.http.get(\"\".concat(url1, \"/\") + productBacklogId);\n  };\n  ProductBacklogService.prototype.getProductBacklogByIdProjet = function (idProjet) {\n    var url = \"\".concat(url1, \"/projet/\").concat(idProjet);\n    return this.http.get(url);\n  };\n  ProductBacklogService.prototype.getHistoireTicketsByProductBacklogId = function (productBacklogId) {\n    return this.http.get(\"\".concat(url1, \"/\").concat(productBacklogId, \"/histoiresTickets\"));\n  };\n  ProductBacklogService.prototype.createProductBacklog = function (productBacklog, projectId) {\n    var _this = this;\n    productBacklog.projetId = projectId;\n    return this.http.post(\"\".concat(url1, \"?projectId=\").concat(projectId), productBacklog, {\n      observe: 'response'\n    }).pipe(map(function (response) {\n      var header = response.headers;\n      _this.csrfToken = header.get('X-Csrftoken');\n      sessionStorage.setItem(\"X-Csrftoken\", _this.csrfToken);\n      return response.body;\n    }));\n  };\n  ProductBacklogService.prototype.getProductBacklogByIdFromLocalStorage = function () {\n    var productBacklogCourantStr = localStorage.getItem(\"productBacklogCourant\");\n    var productBacklogCourantObj = JSON.parse(productBacklogCourantStr);\n    var id = productBacklogCourantObj.id;\n    console.log(\"id product backlog courant = \" + id);\n    return id;\n  };\n  ProductBacklogService.prototype.elevateProductBacklogVelocity = function (productBacklogId, effort) {\n    var _this = this;\n    var url = \"\".concat(url1);\n    var body = {\n      productBacklogId: productBacklogId,\n      effort: effort\n    };\n    return this.http.put(url, body, {\n      observe: 'response'\n    }).pipe(map(function (response) {\n      var header = response.headers;\n      _this.csrfToken = header.get('X-Csrftoken');\n      sessionStorage.setItem(\"X-Csrftoken\", _this.csrfToken);\n      return response.body;\n    }));\n  };\n  ProductBacklogService.prototype.decreaseProductBacklogVelocity = function (productBacklogId, histoireTicketId) {\n    var _this = this;\n    var url = \"\".concat(url1, \"/\");\n    var requestBody = {\n      productBacklogId: productBacklogId,\n      histoireTicketId: histoireTicketId\n    };\n    return this.http.put(url, requestBody, {\n      observe: 'response'\n    }).pipe(map(function (response) {\n      var header = response.headers;\n      _this.csrfToken = header.get('X-Csrftoken');\n      sessionStorage.setItem(\"X-Csrftoken\", _this.csrfToken);\n      return response.body;\n    }));\n  };\n  ProductBacklogService.ɵfac = function ProductBacklogService_Factory(t) {\n    return new (t || ProductBacklogService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  ProductBacklogService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ProductBacklogService,\n    factory: ProductBacklogService.ɵfac,\n    providedIn: 'root'\n  });\n  return ProductBacklogService;\n}();\nexport { ProductBacklogService };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}