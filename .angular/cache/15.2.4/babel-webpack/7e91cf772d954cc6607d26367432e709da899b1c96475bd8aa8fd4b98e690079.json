{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nvar URL = \"https://www.virustotal.com/api/v3\";\nvar AntiVerusService = /** @class */function () {\n  function AntiVerusService(http) {\n    this.http = http;\n  }\n  AntiVerusService.prototype.checkVerus = function (zip) {\n    return __awaiter(this, void 0, void 0, function () {\n      var headers, content, formData;\n      var _this = this;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            headers = new HttpHeaders({\n              'x-apikey': 'bcd1c2d59bd5ab523210924010bd3da867853fdf41f7145a35f10e4882af886f'\n            });\n            return [4 /*yield*/, zip.generateAsync({\n              type: 'blob'\n            })];\n          case 1:\n            content = _a.sent();\n            formData = new FormData();\n            formData.append(\"file\", content);\n            return [2 /*return*/, this.http.post(\"\".concat(URL, \"/files\"), formData, {\n              headers: headers\n            }).toPromise().then(function (response) {\n              _this.fileId = response.data.id;\n              return response;\n            })];\n        }\n      });\n    });\n  };\n  AntiVerusService.prototype.getReport = function () {\n    var headers = new HttpHeaders({\n      'x-apikey': 'bcd1c2d59bd5ab523210924010bd3da867853fdf41f7145a35f10e4882af886f'\n    });\n    return this.http.get(\"\".concat(URL, \"/analyses/\").concat(this.fileId), {\n      headers: headers\n    });\n  };\n  AntiVerusService.ɵfac = function AntiVerusService_Factory(t) {\n    return new (t || AntiVerusService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  AntiVerusService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: AntiVerusService,\n    factory: AntiVerusService.ɵfac,\n    providedIn: 'root'\n  });\n  return AntiVerusService;\n}();\nexport { AntiVerusService };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}