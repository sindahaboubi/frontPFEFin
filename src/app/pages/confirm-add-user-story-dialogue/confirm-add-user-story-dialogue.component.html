<mat-dialog-content class="dialog-content">
  <h1 mat-dialog-title class="dialog-title">
    <mat-icon class="error-icon">error</mat-icon> Le ticket histoire existe déjà dans un autre projet
  </h1>
  <form #ticketForm="ngForm" class="form-container">
    <div class="form-group text-center">
      <label for="titre" class="control-label">Titre</label>
      <input matInput name="titre" [(ngModel)]="data.item.titre" id="titre" class="form-control" placeholder="Titre" [disabled]="isFormDisabled" required #titreInput="ngModel">
      <div *ngIf="titreInput.invalid && (titreInput.dirty || titreInput.touched)" class="error-message">Le champ titre est requis.</div>
    </div>
    <div class="form-group text-center">
      <label for="description" class="control-label">Description</label>
      <textarea matInput name="description" [(ngModel)]="data.item.description" id="description" class="form-control" placeholder="Description" [disabled]="isFormDisabled" required #descriptionInput="ngModel"></textarea>
      <div *ngIf="descriptionInput.invalid && (descriptionInput.dirty || descriptionInput.touched)" class="error-message">Le champ description est requis.</div>
    </div>
    <div class="form-row">
      <div class="col-6 text-center">
        <div class="form-group">
          <label for="priorite" class="control-label">Priorité</label>
          <input matInput type="text" name="priorite" [(ngModel)]="data.item.priorite" id="priorite" class="form-control" placeholder="Priorité" [disabled]="isFormDisabled" required #prioriteInput="ngModel">
          <div *ngIf="prioriteInput.invalid && (prioriteInput.dirty || prioriteInput.touched)" class="error-message">Le champ priorité est requis.</div>
        </div>
      </div>
      <div class="col-6 text-center">
        <div class="form-group">
          <label for="effort" class="control-label">Effort</label>
          <select matNativeControl name="effort" [(ngModel)]="data.item.effort" id="effort" class="form-control" placeholder="Effort" [disabled]="isFormDisabled" required #effortInput="ngModel">
            <option *ngFor="let value of [1, 3, 5, 8, 13]" [value]="value">{{ value }}</option>
          </select>
          <div *ngIf="effortInput.invalid && (effortInput.dirty || effortInput.touched)" class="error-message">Le champ effort est requis.</div>
        </div>
      </div>
    </div>
  </form>
  <div class="dialog-actions d-flex justify-content-end">
    <button mat-button class="mat-button validate-button mx-2" (click)="addNewUserStory()" *ngIf="!isFormDisabled">Valider</button>
    <button mat-button class="mat-button add-new-button mx-2" (click)="toggleForm()" *ngIf="isFormDisabled">Ajouter un nouveau</button>
    <button mat-button class="annuler-button cancel-button mx-2" [mat-dialog-close]="true">Annuler</button>
  </div>
</mat-dialog-content>
